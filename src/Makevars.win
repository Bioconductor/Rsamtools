include Makevars.common

# order of -llib important -- bcf, bam before ws2_32

PKG_CFLAGS+=-DZ_PREFIX -include zlib-1.2.5/zconf.h -include zlib-1.2.5/zlib.h -D_LARGEFILE64_SOURCE
PKG_LIBS+=-lzlib1bioc -lws2_32

zlib1bioc.dll:
	make -C zlib-1.2.5 -fwin32/Makefile.gcc clean zlib1bioc.dll
	cp zlib-1.2.5/zlib1bioc.dll zlib1bioc.dll

libs0: zlib1bioc.dll libbam.a libbcf.a libtabix.a

libbam.a: $(BAMOBJ)

libbcf.a: $(BCFOBJ)

libtabix.a: $(TABIXOBJ)
